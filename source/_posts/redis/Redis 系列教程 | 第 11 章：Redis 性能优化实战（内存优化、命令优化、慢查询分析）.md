---
title: Redis ç³»åˆ—æ•™ç¨‹ | ç¬¬ 11 ç« ï¼šRedis æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼ˆå†…å­˜ä¼˜åŒ–ã€å‘½ä»¤ä¼˜åŒ–ã€æ…¢æŸ¥è¯¢åˆ†æï¼‰
description: \U0001F680 æœ¬ç« æ·±å…¥å‰–æ Redis æ€§èƒ½ç“¶é¢ˆæˆå› ï¼Œä»å†…å­˜ä¼˜åŒ–ã€å‘½ä»¤ä½¿ç”¨ã€æ…¢æŸ¥è¯¢åˆ†æä¸‰æ–¹é¢ï¼Œç»“åˆå®è·µä¸å¯è§†åŒ–å·¥å…·ï¼ŒåŠ©ä½ æ‰“é€ é«˜æ€§èƒ½ Redis åº”ç”¨ã€‚
keywords: Redis æ€§èƒ½ä¼˜åŒ–, Redis æ…¢æŸ¥è¯¢åˆ†æ, Redis å†…å­˜ä¼˜åŒ–, Redis å‘½ä»¤ä¼˜åŒ–, Redis å®æˆ˜è°ƒä¼˜
top_img: /images/post/redis/redis.png
cover: /images/post/redis/redis.png
categories:
  - Redis
tags:
  - æ•™ç¨‹
  - Redis
date: 2025-06-12 10:00
abbrlink: 40489
---

[![Boosting Performance with Redis Caching ...](https://images.openai.com/thumbnails/f09fa8452b172c5b62a7d555d1b1131b.jpeg)](https://blog.devops.dev/boosting-performance-with-redis-caching-in-spring-boot-applications-12fc4d63bfcf)

---

## ä¸€ã€å¼€ç¯‡å°æ•…äº‹ï¼š`KEYS *`ï¼Œå°±åƒç¿»éæ•´ä¸ªä»“åº“æ‰¾é’¥åŒ™

æƒ³è±¡ä¸€ä¸‹ä½ æ˜¯ä¸€åä»“åº“ç®¡ç†å‘˜ï¼Œæœ‰äººçªç„¶é—®ä½ ï¼šâ€œä½ ä»¬æœ‰æ²¡æœ‰å¸¦â€˜æ‰‹æœºâ€™å­—æ ·çš„è´§ç‰©ï¼Ÿâ€
ä½ äºæ˜¯æ‹¿ç€æ‰‹ç”µç­’ï¼Œåœ¨å‡ ä¸‡ä»¶è´§ç‰©é‡Œä¸€ä¸ªä¸ªç®±å­ç¿»ï¼Œä¸€ä¸€æŸ¥çœ‹æ ‡ç­¾â€¦â€¦æ˜¯ä¸æ˜¯å¾ˆå´©æºƒï¼Ÿ

è¿™å°±æ˜¯ä½ åœ¨ Redis é‡Œæ‰§è¡Œ `KEYS *` çš„æ„Ÿè§‰ã€‚

è¿™ä¸ªå‘½ä»¤ä¼šè®© Redis æŠŠ**æ‰€æœ‰çš„ key éƒ½ç¿»å‡ºæ¥**ï¼ˆå“ªæ€•ä½ åªè¦ä¸€ä¸ªï¼‰ï¼Œæ•´ä¸ªå†…å­˜éƒ½è¦é…åˆè¿™æ¬¡â€œåœ°æ¯¯å¼æœç´¢â€ï¼Œè¿‡ç¨‹ä¸­ Redis æ˜¯æ²¡æ³•å¹²åˆ«çš„äº‹çš„ï¼Œä¸¥é‡çš„è¯è¿˜å¯èƒ½å¯¼è‡´**é˜»å¡æˆ–æœåŠ¡å®•æœº**ï¼

ğŸ‘¨â€ğŸ”§ **ç™½è¯æ€»ç»“ï¼š**

> `KEYS *` å°±åƒç”¨æ”¾å¤§é•œåœ¨ä»“åº“é‡ŒæŒ¨ä¸ªç¿»ç®±æ‰¾è´§ã€‚é‡ä¸€å¤§ï¼Œå°±å¡çˆ†ç³»ç»Ÿã€‚
> æ­£ç¡®åšæ³•æ˜¯ï¼šç”¨ `SCAN`ï¼Œåƒåˆ†é¡µä¸€æ ·æ…¢æ…¢æ‰¾ï¼Œä¸€æ¬¡åªæ‰«ä¸€éƒ¨åˆ†ã€‚


---

## äºŒã€æ€§èƒ½ä¼˜åŒ–ä»å“ªä¸‹æ‰‹ï¼Ÿ

çœ‹å›¾ğŸ‘‡ æ€§èƒ½ä¼˜åŒ–ï¼Œå¯ä»è¿™ä¸‰å¤§å—åˆ‡å…¥ï¼š

1. **å†…å­˜ä¼˜åŒ–**ï¼šè®© Redis å­˜æ›´å¤šä¹Ÿæ›´çœå†…å­˜
2. **å‘½ä»¤ä¼˜åŒ–**ï¼šåˆ«ç”¨ä¼šæ‹–æ…¢ Redis çš„æŒ‡ä»¤
3. **æ…¢æŸ¥è¯¢åˆ†æ**ï¼šæŠ“ä½â€œç½ªé­ç¥¸é¦–â€å‘½ä»¤ï¼Œç²¾å‡†è§£å†³

---

## ä¸‰ã€å†…å­˜ä¼˜åŒ– âœ‚ï¸

### 1. ç”¨å¯¹æ•°æ®ç»“æ„

å¦‚æœä½ ç”¨ `String` å­˜å¯¹è±¡ï¼ŒRedis ä¼šéº»çƒ¦åˆå å†…å­˜ï¼Œæ¨èæ”¹ç”¨ `Hash`ï¼š

```bash
# æ¨èæ–¹å¼ï¼šç”¨ Hash å­˜ç”¨æˆ·ä¿¡æ¯
HSET user:1001 name "å¼ ä¸‰" age 28 gender "ç”·"
```

æ›´èŠ‚çº¦å†…å­˜ï¼Œè¿˜æ–¹ä¾¿ä¿®æ”¹ã€‚

### 2. TTL è¿‡æœŸè®¾ç½®

é¿å…ç¼“å­˜æ— é™å¢é•¿ï¼š

```bash
# session æœ‰æ•ˆ 1 å°æ—¶
SET session:1001 "token123" EX 3600
```

### 3. å¯ç”¨æ·˜æ±°ç­–ç•¥

```conf
maxmemory 100mb
maxmemory-policy allkeys-lru
```

æ·˜æ±°å†·æ•°æ®ï¼Œæ§åˆ¶å†…å­˜ä¸Šé™ã€‚

---

## å››ã€å‘½ä»¤ä¼˜åŒ– âš™ï¸

### é¿å…ä½¿ç”¨ä½æ•ˆå‘½ä»¤

| é”™è¯¯å‘½ä»¤         | é—®é¢˜                           | ä¼˜åŒ–ä»£æ›¿         |
| ---------------- | ------------------------------ | ---------------- |
| `KEYS *`         | å…¨åº“é˜»å¡ï¼Œç”Ÿäº§ç¯å¢ƒå¤§å‘         | `SCAN` åˆ†æ‰¹è¿­ä»£  |
| `SMEMBERS set:*` | è¿”å›å¯èƒ½æˆåƒä¸Šä¸‡å…ƒç´ ï¼Œå†…å­˜æš´æ¶¨ | `SSCAN` åˆ†æ®µè·å– |
| `FLUSHALL`       | æ¸…åº“å¯¼è‡´ç¬æ—¶æŒ‚èµ·               | é¿å…ä½¿ç”¨æ­¤å‘½ä»¤   |

#### æ‰¹é‡æ‰«æç¤ºä¾‹ï¼ˆPythonï¼‰ï¼š

```python
for key in r.scan_iter(match="user:*", count=100):
    print("æ‰¾åˆ° key:", key)
```

---

## äº”ã€æ…¢æŸ¥è¯¢æ’æŸ¥ ğŸ”

### å¼€å¯ Slowlog

```conf
slowlog-log-slower-than 10000   # å•ä½ï¼šå¾®ç§’ï¼ˆ10msï¼‰
slowlog-max-len 128
```

### æŸ¥çœ‹æ…¢æŒ‡ä»¤ç¤ºä¾‹ï¼š

```bash
127.0.0.1:6379> SLOWLOG GET 5
```

å¦‚å‘ç° `HGETALL user:9999` èŠ±äº† 50msï¼Œå°±è¯´æ˜åº”è¯¥æ‹†å­—æ®µæˆ–æ”¹ç»“æ„ã€‚

---

## å…­ã€å®æˆ˜æ€»ç»“å»ºè®®æ¸…å•

| åœºæ™¯           | å»ºè®®                                            |
| -------------- | ----------------------------------------------- |
| ç¼“å­˜ç©¿é€ï¼å‡»ç©¿ | ç¼“å­˜ç©ºå€¼åŠ çŸ­è¿‡æœŸï¼Œæˆ–ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨              |
| å¤§æ•°é‡ key     | ç”¨ `SCAN` é¿å…é˜»å¡ï¼Œä¸ç”¨ `KEYS *`               |
| å¤§å¯¹è±¡è®¿é—®     | æ‹†å°é‡æ„æ•°æ®ï¼Œé˜²æ­¢ bloating                     |
| CPU/IO é«˜å»¶è¿Ÿ  | æŸ¥ `slowlog` æ‰¾æ…¢å‘½ä»¤ï¼Œæ”¹ç”¨æ‰¹å¤„ç†/ç®¡é“/å¼‚æ­¥åˆ é™¤ |
| é¢‘ç¹ COW       | æ§åˆ¶ RDB å‘¨æœŸï¼Œæˆ–è¿ç§»åˆ° Cluster è°ƒä½å•å®ä¾‹å‹åŠ›  |

---

## ä¸ƒã€å¤šè¯­è¨€â€œè¿‡æœŸè®¾ç½®â€ç¤ºä¾‹

### Javaï¼ˆJedisï¼‰

```java
jedis.setex("session:1001", 3600, "token123"); // 1å°æ—¶è¿‡æœŸ
```

### Python

```python
r.set("session:1001", "token123", ex=3600)
```

### Node.jsï¼ˆioredisï¼‰

```js
client.setEx("session:1001", 3600, "token123");
```

### PHPï¼ˆphpredisï¼‰

```php
$redis->setEx("session:1001", 3600, "token123");
```

---

## å…«ã€æœ€ä½³å®è·µæµç¨‹å›¾

[![Multilevel Redis Caching Strategy to ...](https://images.openai.com/thumbnails/4bd22f14f05b1678e2ed12a99720397e.jpeg)](https://blog.devgenius.io/multilevel-redis-caching-to-improve-performance-8603f0ea146f)

---

## ä¹ã€å°ç»“ âœ¨

* **ç»“æ„é€‰å¯¹ï¼Œç»“æ„ç”¨å¥½**
* **è¿‡æœŸè®¾ç½®å¥½**
* **æ…¢å‘½ä»¤åˆ«ç”¨**
* **æŒç»­ç›‘æ§ slowlog**

Redis ä¼˜åŒ–é çš„æ˜¯â€œæŒç»­æ”¹å–„â€ï¼Œä¸åƒä¸€æ—¶ä¹‹åŠŸã€‚å¸Œæœ›ä½ ä¹Ÿèƒ½åƒé˜¿æ°ä¸€æ ·ï¼Œç”¨è¿™ä¸‰æ­¥æŠŠ Redis å…»æˆâ€œæ€§èƒ½è€è™â€ï¼

---

## ğŸ”— æ¨èé˜…è¯» & å­¦ä¹ èµ„æºï¼ˆä¸­å›½å¤§é™†å¯è®¿é—®ï¼‰

* [Redis æ€§èƒ½ä¼˜åŒ–æŒ‡å— Â· åšå®¢å›­](https://www.cnblogs.com/wzh2010/p/17205492.html) 
* [Redis æ€§èƒ½ä¼˜åŒ– 13 æ¡å†›è§„ Â· åšå®¢å›­](https://www.cnblogs.com/vipstone/p/12582622.html) 
* [èœé¸Ÿæ•™ç¨‹ Â· Redis æ€§èƒ½è°ƒä¼˜](https://www.runoob.com/redis/redis-performance.html) âœ…
* [CSDN å®ç”¨å›¾è§£ Â· Redis æ€§èƒ½æ’æŸ¥](https://blog.csdn.net/nav/redis) âœ…

---